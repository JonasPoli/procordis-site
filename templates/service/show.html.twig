{% extends 'base_public.html.twig' %}

{% block title %}{{ service.title }} - Procordis{% endblock %}

{% block content %}
    {# Hero Small #}
    {# Hero Small #}
    <section class="bg-primary/5 dark:bg-background py-12">
        <div class="container mx-auto px-4">
            <div class="flex items-center gap-2 text-sm text-muted-foreground mb-4">
                <a href="{{ path('app_home') }}" class="hover:text-primary">Início</a>
                <span class="opacity-50">/</span>
                <a href="{{ path('app_service_index') }}" class="hover:text-primary">Serviços</a>
                <span class="opacity-50">/</span>
                <span class="text-primary font-medium">{{ service.title }}</span>
            </div>
            <h1 class="text-3xl md:text-4xl font-bold text-foreground">{{ service.title }}</h1>
        </div>
    </section>

    <section class="py-16 bg-background">
        <div class="container mx-auto px-4">
            <div class="lg:flex gap-12">
                {# Main Content #}
                <main class="lg:w-2/3">
                    {% if service.imageName %}
                        <div class="rounded-2xl overflow-hidden mb-8 shadow-sm">
                            <img src="{{ vich_uploader_asset(service, 'imageFile') }}" alt="{{ service.title }}" class="w-full object-cover">
                        </div>
                    {% endif %}

                    <div class="bg-card rounded-2xl md:p-8 md:shadow-sm md:border border-border mb-8">
                         <div class="flex items-center gap-4 mb-6 not-prose">
                            <div class="w-16 h-16 bg-primary/10 text-primary rounded-xl flex items-center justify-center shrink-0">
                                {{ service.icon|raw }}
                            </div>
                            <p class="text-xl font-medium text-foreground">{{ service.description }}</p>
                        </div>
                        
                        <div class="prose prose-lg max-w-none text-muted-foreground prose-headings:text-foreground prose-a:text-primary hover:prose-a:text-primary-dark">
                            {{ service.content|raw }}
                        </div>
                    </div>
                </main>

                {# Sidebar #}
                <aside class="lg:w-1/3 space-y-8 mt-12 lg:mt-0">
                    {# Other Services #}
                    <div class="bg-card rounded-2xl p-6 shadow-sm border border-border">
                        <h3 class="text-lg font-bold text-medical-heading mb-4 pb-4 border-b">Outros Serviços</h3>
                        <div class="space-y-2">
                            {% for other in otherServices %}
                                <a href="{{ path('app_service_show', {slug: other.slug}) }}" class="flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 transition-colors group">
                                    <span class="text-medical-text group-hover:text-primary transition-colors">{{ other.title }}</span>
                                    <i data-lucide="chevron-right" class="w-4 h-4 text-slate-300 group-hover:text-primary"></i>
                                </a>
                            {% endfor %}
                        </div>
                        <div class="mt-6 pt-4 border-t text-center">
                            <a href="{{ path('app_service_index') }}" class="text-sm font-bold text-primary hover:underline">Ver todos os serviços</a>
                        </div>
                    </div>

                    {# CTA Box #}
                    <div class="bg-primary text-white rounded-2xl p-8 text-center relative overflow-hidden">
                        <div class="absolute inset-0 opacity-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9IiNmZmYiLz48L3N2Zz4=')]"></div>
                        <i data-lucide="calendar-check" class="w-12 h-12 mx-auto mb-4 opacity-90 relative z-10"></i>
                        <h3 class="text-xl font-bold mb-2 relative z-10">Agende seu Exame</h3>
                        <p class="text-white/80 mb-6 text-sm relative z-10">Entre em contato via WhatsApp para verificar disponibilidade.</p>
                        <a href="https://wa.me/551633974625" target="_blank" class="inline-flex w-full justify-center items-center px-6 py-3 bg-white text-primary font-bold rounded-xl hover:bg-slate-50 transition-colors relative z-10 gap-2">
                           <i data-lucide="message-circle" class="w-4 h-4"></i> WhatsApp
                        </a>
                    </div>
                </aside>
            </div>
        </div>
    </section>
{% endblock %}
