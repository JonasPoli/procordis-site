{% extends 'base_public.html.twig' %}

{% block title %}{{ service.title }} - Procordis{% endblock %}

{% block content %}
    {# Hero Small #}
    {# Hero Standardized #}
    <div class="bg-[#2993C9] dark:bg-[#031219] text-primary-foreground py-20 text-center relative overflow-hidden">
         <div class="absolute inset-0 z-0 bg-cover bg-center opacity-20" style="background-image: url('{{ asset('images/background02.png') }}'); filter: grayscale(100%);"></div>
         <div class="container mx-auto px-6 relative z-10 text-center">
            
            {# Breadcrumb #}
            <nav class="flex justify-center items-center gap-2 text-sm text-primary-foreground/80 mb-6" aria-label="Breadcrumb">
                <a href="{{ path('app_home') }}" class="hover:text-white transition-colors">Início</a>
                <span class="opacity-50">/</span>
                <a href="{{ path('app_service_index') }}" class="hover:text-white transition-colors">Serviços</a>
                <span class="opacity-50">/</span>
                <span class="font-medium text-white">{{ service.title }}</span>
            </nav>

            <h1 class="font-heading text-4xl md:text-5xl font-bold mb-4" data-aos="fade-up">{{ service.title }}</h1>
        </div>
    </div>

    <section class="py-16 bg-background">
        <div class="container mx-auto px-4">
            <div class="lg:flex gap-12">
                {# Main Content #}
                <main class="lg:w-2/3">
                    {% if service.imageName %}
                        <div class="rounded-2xl overflow-hidden mb-8 shadow-sm">
                            <img src="{{ vich_uploader_asset(service, 'imageFile') }}" alt="{{ service.title }}" class="w-full object-cover">
                        </div>
                    {% endif %}

                    <div class="bg-card rounded-2xl md:p-8 md:shadow-sm md:border border-border mb-8">
                         <div class="flex items-center gap-4 mb-6 not-prose">
                            <div class="w-16 h-16 bg-primary/10 text-primary rounded-xl flex items-center justify-center shrink-0">
                                {{ service.icon|raw }}
                            </div>
                            <p class="text-xl font-medium text-foreground">{{ service.description }}</p>
                        </div>
                        
                        <div class="prose prose-lg max-w-none text-muted-foreground prose-headings:text-foreground prose-a:text-primary hover:prose-a:text-primary-dark">
                            {{ service.content|raw }}
                        </div>
                    </div>
                </main>

                {# Sidebar #}
                <aside class="lg:w-1/3 space-y-8 mt-12 lg:mt-0">
                    {# Other Services #}
                    <div class="bg-card rounded-2xl p-6 shadow-sm border border-border">
                        <h3 class="text-lg font-bold text-medical-heading mb-4 pb-4 border-b">Outros Serviços</h3>
                        <div class="space-y-2">
                            {% for other in otherServices %}
                                <a href="{{ path('app_service_show', {slug: other.slug}) }}" class="flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 transition-colors group">
                                    <span class="text-medical-text group-hover:text-primary transition-colors">{{ other.title }}</span>
                                    <i data-lucide="chevron-right" class="w-4 h-4 text-slate-300 group-hover:text-primary"></i>
                                </a>
                            {% endfor %}
                        </div>
                        <div class="mt-6 pt-4 border-t text-center">
                            <a href="{{ path('app_service_index') }}" class="text-sm font-bold text-primary hover:underline">Ver todos os serviços</a>
                        </div>
                    </div>

                    {# Referral Info Box #}
                    <div class="bg-amber-500 text-white rounded-2xl p-8 text-center relative overflow-hidden">
                        <div class="absolute inset-0 opacity-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9IiNmZmYiLz48L3N2Zz4=')]"></div>
                        <i data-lucide="info" class="w-12 h-12 mx-auto mb-4 opacity-90 relative z-10"></i>
                        <h3 class="text-xl font-bold mb-2 relative z-10">Atendimento por Encaminhamento</h3>
                        <p class="text-white/90 mb-6 text-sm relative z-10">Nosso ambulatório atende exclusivamente pacientes encaminhados pelo sistema de saúde.</p>
                        <a href="{{ path('app_about') }}" class="inline-flex w-full justify-center items-center px-6 py-3 bg-white text-amber-600 font-bold rounded-xl hover:bg-slate-50 transition-colors relative z-10 gap-2">
                           <i data-lucide="external-link" class="w-4 h-4"></i> Saiba Mais
                        </a>
                    </div>
                </aside>
            </div>
        </div>
    </section>
{% endblock %}
