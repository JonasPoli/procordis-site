/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/flowbite-datepicker@2.0.0/dist/main.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function t(e,t,i){return t=o(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,i||[],o(e).constructor):t.apply(e,i))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},a.apply(null,arguments)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a,o,s=[],d=!0,c=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;d=!1}else for(;!(d=(n=a.call(i)).done)&&(s.push(n.value),s.length!==t);d=!0);}catch(e){c=!0,r=e}finally{try{if(!d&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(t,i){if(t){if("string"==typeof t)return e(t,i);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){return e[e.length-1]}function g(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach((function(t){e.includes(t)||e.push(t)})),e}function y(e,t){return e?e.split(t):[]}function b(e,t,i){return(void 0===t||e>=t)&&(void 0===i||e<=i)}function w(e,t,i){return e<t?t:e>i?i:e}function k(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=Object.keys(i).reduce((function(e,t){var r=i[t];return"function"==typeof r&&(r=r(n)),"".concat(e," ").concat(t,'="').concat(r,'"')}),e);r+="<".concat(a,"></").concat(e,">");var o=n+1;return o<t?k(e,t,i,o,r):r}function D(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function x(e){return new Date(e).setHours(0,0,0,0)}function S(){return(new Date).setHours(0,0,0,0)}function O(){switch(arguments.length){case 0:return S();case 1:return x(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function M(e,t){var i=new Date(e);return i.setDate(i.getDate()+t)}function C(e,t){var i=new Date(e),n=i.getMonth()+t,r=n%12;r<0&&(r+=12);var a=i.setMonth(n);return i.getMonth()!==r?i.setDate(0):a}function E(e,t){var i=new Date(e),n=i.getMonth(),r=i.setFullYear(i.getFullYear()+t);return 1===n&&2===i.getMonth()?i.setDate(0):r}function F(e,t){return(e-t+7)%7}function V(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new Date(e).getDay();return M(e,F(t,i)-F(n,i))}function A(e,t){var i=new Date(e).getFullYear();return Math.floor(i/t)*t}var L=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,N=/[\s!-/:-@[-`{-~年月日]+/,B={},Y={y:function(e,t){return new Date(e).setFullYear(parseInt(t,10))},m:function(e,t,i){var n=new Date(e),r=parseInt(t,10)-1;if(isNaN(r)){if(!t)return NaN;var a=t.toLowerCase(),o=function(e){return e.toLowerCase().startsWith(a)};if((r=i.monthsShort.findIndex(o))<0&&(r=i.months.findIndex(o)),r<0)return NaN}return n.setMonth(r),n.getMonth()!==W(r)?n.setDate(0):n.getTime()},d:function(e,t){return new Date(e).setDate(parseInt(t,10))}},j={d:function(e){return e.getDate()},dd:function(e){return _(e.getDate(),2)},D:function(e,t){return t.daysShort[e.getDay()]},DD:function(e,t){return t.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return _(e.getMonth()+1,2)},M:function(e,t){return t.monthsShort[e.getMonth()]},MM:function(e,t){return t.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return _(e.getFullYear(),2).slice(-2)},yyyy:function(e){return _(e.getFullYear(),4)}};function W(e){return e>-1?e%12:W(e+12)}function _(e,t){return e.toString().padStart(t,"0")}function T(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in B)return B[e];var t=e.split(L),i=e.match(new RegExp(L,"g"));if(0===t.length||!i)throw new Error("Invalid date format.");var n=i.map((function(e){return j[e]})),r=Object.keys(Y).reduce((function(e,t){return i.find((function(e){return"D"!==e[0]&&e[0].toLowerCase()===t}))&&e.push(t),e}),[]);return B[e]={parser:function(e,t){var n=e.split(N).reduce((function(e,t,n){if(t.length>0&&i[n]){var r=i[n][0];"M"===r?e.m=t:"D"!==r&&(e[r]=t)}return e}),{});return r.reduce((function(e,i){var r=Y[i](e,n[i],t);return isNaN(r)?e:r}),S())},formatter:function(e,i){return n.reduce((function(n,r,a){return n+"".concat(t[a]).concat(r(e,i))}),"")+m(t)}}}function P(e,t,i){if(e instanceof Date||"number"==typeof e){var n=x(e);return isNaN(n)?void 0:n}if(e){if("today"===e)return S();if(t&&t.toValue){var r=t.toValue(e,t,i);return isNaN(r)?void 0:x(r)}return T(t).parser(e,i)}}function K(e,t,i){if(isNaN(e)||!e&&0!==e)return"";var n="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(n,t,i):T(t).formatter(n,i)}var H=new WeakMap,R=EventTarget.prototype,I=R.addEventListener,q=R.removeEventListener;function J(e,t){var i=H.get(e);i||(i=[],H.set(e,i)),t.forEach((function(e){I.call.apply(I,u(e)),i.push(e)}))}function U(e){var t=H.get(e);t&&(t.forEach((function(e){q.call.apply(q,u(e))})),H.delete(e))}if(!Event.prototype.composedPath){var z=function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(t),t.parentNode?i=t.parentNode:t.host?i=t.host:t.defaultView&&(i=t.defaultView),i?e(i,n):n};Event.prototype.composedPath=function(){return z(this.target)}}function X(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e[n];return t(r)?r:r!==i&&r.parentElement?X(e,t,i,n+1):void 0}function $(e,t){var i="function"==typeof t?t:function(e){return e.matches(t)};return X(e.composedPath(),i,e.currentTarget)}var G={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},Q={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},Z=null;function ee(e){return null==Z&&(Z=document.createRange()),Z.createContextualFragment(e)}function te(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function ie(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function ne(e){e.firstChild&&(e.removeChild(e.firstChild),ne(e))}var re=Q.language,ae=Q.format,oe=Q.weekStart;function se(e,t){return e.length<6&&t>=0&&t<7?g(e,t):e}function de(e){return(e+6)%7}function ce(e,t,i,n){var r=P(e,t,i);return void 0!==r?r:n}function le(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=parseInt(e,10);return n>=0&&n<=i?n:t}function ue(e,t){var i,n=Object.assign({},e),r={},a=t.constructor.locales,o=t.config||{},s=o.format,d=o.language,c=o.locale,l=o.maxDate,u=o.maxView,h=o.minDate,f=o.pickLevel,v=o.startView,m=o.weekStart;if(n.language&&(n.language!==d&&(a[n.language]?i=n.language:void 0===a[i=n.language.split("-")[0]]&&(i=!1)),delete n.language,i)){d=r.language=i;var y=c||a[re];c=Object.assign({format:ae,weekStart:oe},a[re]),d!==re&&Object.assign(c,a[d]),r.locale=c,s===y.format&&(s=r.format=c.format),m===y.weekStart&&(m=r.weekStart=c.weekStart,r.weekEnd=de(c.weekStart))}if(n.format){var b="function"==typeof n.format.toDisplay,w="function"==typeof n.format.toValue,k=L.test(n.format);(b&&w||k)&&(s=r.format=n.format),delete n.format}var D=h,x=l;if(void 0!==n.minDate&&(D=null===n.minDate?O(0,0,1):ce(n.minDate,s,c,D),delete n.minDate),void 0!==n.maxDate&&(x=null===n.maxDate?void 0:ce(n.maxDate,s,c,x),delete n.maxDate),x<D?(h=r.minDate=x,l=r.maxDate=D):(h!==D&&(h=r.minDate=D),l!==x&&(l=r.maxDate=x)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce((function(e,t){var i=P(t,s,c);return void 0!==i?g(e,i):e}),[]),delete n.datesDisabled),void 0!==n.defaultViewDate){var S=P(n.defaultViewDate,s,c);void 0!==S&&(r.defaultViewDate=S),delete n.defaultViewDate}if(void 0!==n.weekStart){var M=Number(n.weekStart)%7;isNaN(M)||(m=r.weekStart=M,r.weekEnd=de(M)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(se,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(se,[]),delete n.daysOfWeekHighlighted),void 0!==n.maxNumberOfDates){var C=parseInt(n.maxNumberOfDates,10);C>=0&&(r.maxNumberOfDates=C,r.multidate=1!==C),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var E=f;void 0!==n.pickLevel&&(E=le(n.pickLevel,2),delete n.pickLevel),E!==f&&(f=r.pickLevel=E);var F=u;void 0!==n.maxView&&(F=le(n.maxView,u),delete n.maxView),(F=f>F?f:F)!==u&&(u=r.maxView=F);var V=v;if(void 0!==n.startView&&(V=le(n.startView,V),delete n.startView),V<f?V=f:V>u&&(V=u),V!==v&&(r.startView=V),n.prevArrow){var A=ee(n.prevArrow);A.childNodes.length>0&&(r.prevArrow=A.childNodes),delete n.prevArrow}if(n.nextArrow){var N=ee(n.nextArrow);N.childNodes.length>0&&(r.nextArrow=N.childNodes),delete n.nextArrow}if(void 0!==n.disableTouchKeyboard&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var B=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:B.find((function(e){return"left"===e||"right"===e}))||"auto",y:B.find((function(e){return"top"===e||"bottom"===e}))||"auto"},delete n.orientation}if(void 0!==n.todayBtnMode){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach((function(e){void 0!==n[e]&&p(Q,e)&&(r[e]=n[e])})),r}var he=D('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-base bg-neutral-primary-medium border border-default-medium p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-neutral-primary-medium text-heading px-2 py-3 text-center font-medium"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-neutral-primary-medium rounded-base text-body hover:bg-neutral-tertiary-medium hover:text-heading text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-neutral-tertiary prev-btn"></button>\n        <button type="button" class="text-sm rounded-base text-heading bg-neutral-primary-medium font-medium py-2.5 px-5 hover:bg-neutral-tertiary-medium focus:outline-none focus:ring-2 focus:ring-neutral-tertiary view-switch"></button>\n        <button type="button" class="bg-neutral-primary-medium rounded-base text-body hover:bg-neutral-tertiary-medium hover:text-heading text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-neutral-tertiary next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-brand hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium font-medium rounded-base text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-body bg-neutral-secondary-medium border border-default-medium hover:bg-neutral-tertiary-medium focus:ring-4 focus:ring-neutral-tertiary font-medium rounded-base text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),fe=D('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(k("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-base cursor-default text-center text-body font-medium text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(k("span",42,{class:"block flex-1 leading-9 border-0 rounded-base cursor-default text-center text-body font-medium text-sm h-6 leading-6 text-sm font-medium text-fg-disabled"}),"</div>\n</div>")),ve=D('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-fg-disabled"></span></div>\n  <div class="weeks">'.concat(k("span",6,{class:"week block flex-1 leading-9 border-0 rounded-base cursor-default text-center text-body font-medium text-sm"}),"</div>\n</div>")),pe=function(){return r((function e(t,n){i(this,e),Object.assign(this,n,{picker:t,element:ee('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}),[{key:"init",value:function(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(e,t,i){var n=this.beforeShow(new Date(i));switch(f(n)){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){if(!1===n.enabled&&(e.classList.add("disabled"),g(this.disabled,t)),n.classes){var r,a=n.classes.split(/\s+/);(r=e.classList).add.apply(r,u(a)),a.includes("disabled")&&g(this.disabled,t)}n.content&&function(e,t){ne(e),t instanceof DocumentFragment?e.appendChild(t):"string"==typeof t?e.appendChild(ee(t)):"function"==typeof t.forEach&&t.forEach((function(t){e.appendChild(t)}))}(e,n.content)}}}])}(),me=function(){function e(n){return i(this,e),t(this,e,[n,{id:0,name:"days",cellClass:"day"}])}return s(e,pe),r(e,[{key:"init",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=ee(fe).firstChild;this.dow=i.firstChild,this.grid=i.lastChild,this.element.appendChild(i)}a(o(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(e){var t,i=this;if(p(e,"minDate")&&(this.minDate=e.minDate),p(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){var n=this.locale=e.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,t=!0}if(void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks)if(e.calendarWeeks&&!this.calendarWeeks){var r=ee(ve).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(ie(this.dow),this.calendarWeeks&&ie(this.calendarWeeks.dow)):(te(this.dow),this.calendarWeeks&&te(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach((function(e,t){var n=(i.weekStart+t)%7;e.textContent=i.dayNames[n],e.className=i.daysOfWeekDisabled.includes(n)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-fg-disabled cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-body"}))}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=e.getFullYear(),i=e.getMonth(),n=O(t,i,1),r=V(n,this.weekStart,this.weekStart);this.first=n,this.last=O(t,i+1,0),this.start=r,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,i=e.rangepicker;this.selected=t,i&&(this.range=i.dates)}},{key:"render",value:function(){var e=this;this.today=this.todayHighlight?S():void 0,this.disabled=u(this.datesDisabled);var t=K(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(t),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var i=V(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(e,t){e.textContent=function(e){var t=V(e,4,1),i=V(new Date(t).setMonth(0,4),4,1);return Math.round((t-i)/6048e5)+1}(M(i,7*t))}))}Array.from(this.grid.children).forEach((function(t,i){var n=t.classList,r=M(e.start,i),a=new Date(r),o=a.getDay();if(t.className="datepicker-cell hover:bg-neutral-tertiary-medium block flex-1 leading-9 border-0 rounded-base cursor-pointer text-center text-body font-medium text-sm ".concat(e.cellClass),t.dataset.date=r,t.textContent=a.getDate(),r<e.first?n.add("prev","text-fg-disabled"):r>e.last&&n.add("next","text-fg-disabled"),e.today===r&&n.add("today","bg-gray-100","dark:bg-gray-600"),(r<e.minDate||r>e.maxDate||e.disabled.includes(r))&&(n.add("disabled","cursor-not-allowed","text-fg-disabled"),n.remove("hover:bg-neutral-tertiary-medium","text-body","cursor-pointer")),e.daysOfWeekDisabled.includes(o)&&(n.add("disabled","cursor-not-allowed","text-fg-disabled"),n.remove("hover:bg-neutral-tertiary-medium","text-body","cursor-pointer"),g(e.disabled,r)),e.daysOfWeekHighlighted.includes(o)&&n.add("highlighted"),e.range){var s=l(e.range,2),d=s[0],c=s[1];r>d&&r<c&&(n.add("range","bg-neutral-tertiary-medium"),n.remove("rounded-base","rounded-s-base","rounded-e-base")),r===d&&(n.add("range-start","bg-brand","rounded-s-base"),n.remove("rounded-base","rounded-e-base")),r===c&&(n.add("range-end","bg-neutral-tertiary-medium","rounded-e-base"),n.remove("rounded-base","rounded-s-base"))}e.selected.includes(r)&&(n.add("selected","bg-brand","text-white"),n.remove("text-body","hover:bg-neutral-tertiary-medium","bg-neutral-tertiary-medium")),r===e.focused&&n.add("focused"),e.beforeShow&&e.performBeforeHook(t,r,r)}))}},{key:"refresh",value:function(){var e=this,t=l(this.range||[],2),i=t[0],n=t[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-brand","text-white","focused"),e.classList.add("text-body","rounded-base")})),Array.from(this.grid.children).forEach((function(t){var r=Number(t.dataset.date),a=t.classList;a.remove("bg-neutral-tertiary-medium","rounded-s-base","rounded-e-base"),r>i&&r<n&&(a.add("range","bg-neutral-tertiary-medium"),a.remove("rounded-base")),r===i&&(a.add("range-start","bg-brand","text-white","rounded-s-base"),a.remove("rounded-base")),r===n&&(a.add("range-end","bg-neutral-tertiary-medium","rounded-e-base"),a.remove("rounded-base")),e.selected.includes(r)&&(a.add("selected","bg-brand","text-white"),a.remove("text-body","hover:bg-neutral-tertiary-medium","bg-neutral-tertiary-medium")),r===e.focused&&a.add("focused")}))}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}])}();function ge(e,t){if(e&&e[0]&&e[1]){var i=l(e,2),n=l(i[0],2),r=n[0],a=n[1],o=l(i[1],2),s=o[0],d=o[1];if(!(r>t||s<t))return[r===t?a:-1,s===t?d:12]}}var ye=function(){function e(n){return i(this,e),t(this,e,[n,{id:1,name:"months",cellClass:"month"}])}return s(e,pe),r(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(ee(k("span",12,{"data-month":function(e){return e}})))),a(o(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),p(e,"minDate"))if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if(p(e,"maxDate"))if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var i=new Date(e.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=O(this.maxYear,this.maxMonth+1,0)}void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,i=e.rangepicker;this.selected=t.reduce((function(e,t){var i=new Date(t),n=i.getFullYear(),r=i.getMonth();return void 0===e[n]?e[n]=[r]:g(e[n],r),e}),{}),i&&i.dates&&(this.range=i.dates.map((function(e){var t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]})))}},{key:"render",value:function(){var e=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var t=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,r=this.year===this.maxYear,a=ge(this.range,this.year);Array.from(this.grid.children).forEach((function(o,s){var d=o.classList,c=O(e.year,s,1);if(o.className="datepicker-cell hover:bg-neutral-tertiary-medium block flex-1 leading-9 border-0 rounded-base cursor-pointer text-center text-body font-medium text-sm ".concat(e.cellClass),e.isMinView&&(o.dataset.date=c),o.textContent=e.monthNames[s],(i||n&&s<e.minMonth||r&&s>e.maxMonth)&&d.add("disabled"),a){var u=l(a,2),h=u[0],f=u[1];s>h&&s<f&&d.add("range"),s===h&&d.add("range-start"),s===f&&d.add("range-end")}t.includes(s)&&(d.add("selected","bg-brand","text-white","dark:text-white"),d.remove("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")),s===e.focused&&d.add("focused"),e.beforeShow&&e.performBeforeHook(o,s,c)}))}},{key:"refresh",value:function(){var e=this,t=this.selected[this.year]||[],i=l(ge(this.range,this.year)||[],2),n=i[0],r=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-brand","dark:text-white","text-white","focused"),e.classList.add("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")})),Array.from(this.grid.children).forEach((function(i,a){var o=i.classList;a>n&&a<r&&o.add("range"),a===n&&o.add("range-start"),a===r&&o.add("range-end"),t.includes(a)&&(o.add("selected","bg-brand","text-white","dark:text-white"),o.remove("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")),a===e.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}])}();var be=function(){function e(n,r){return i(this,e),t(this,e,[n,r])}return s(e,pe),r(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(u(this.cellClass).reduce((function(e,t,i){return e+(i?t:t.toUpperCase())}),"")),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(ee(k("span",12)))),a(o(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(e){if(p(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=A(e.minDate,this.step),this.minDate=O(this.minYear,0,1))),p(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=A(e.maxDate,this.step),this.maxDate=O(this.maxYear,11,31))),void 0!==e[this.beforeShowOption]){var t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=A(e,this.navStep),i=t+9*this.step;this.first=t,this.last=i,this.start=t-this.step,this.focused=A(e,this.step)}},{key:"updateSelection",value:function(){var e=this,t=this.picker.datepicker,i=t.dates,n=t.rangepicker;this.selected=i.reduce((function(t,i){return g(t,A(i,e.step))}),[]),n&&n.dates&&(this.range=n.dates.map((function(t){if(void 0!==t)return A(t,e.step)})))}},{key:"render",value:function(){var e=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(t,i){var n=t.classList,r=e.start+i*e.step,a=O(r,0,1);if(t.className="datepicker-cell hover:bg-neutral-tertiary-medium block flex-1 leading-9 border-0 rounded-base cursor-pointer text-center text-body font-medium text-sm ".concat(e.cellClass),e.isMinView&&(t.dataset.date=a),t.textContent=t.dataset.year=r,0===i?n.add("prev"):11===i&&n.add("next"),(r<e.minYear||r>e.maxYear)&&n.add("disabled"),e.range){var o=l(e.range,2),s=o[0],d=o[1];r>s&&r<d&&n.add("range"),r===s&&n.add("range-start"),r===d&&n.add("range-end")}e.selected.includes(r)&&(n.add("selected","bg-brand","text-white","dark:text-white"),n.remove("text-body","hover:bg-neutral-tertiary-medium","dark:text-white")),r===e.focused&&n.add("focused"),e.beforeShow&&e.performBeforeHook(t,r,a)}))}},{key:"refresh",value:function(){var e=this,t=l(this.range||[],2),i=t[0],n=t[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-brand","text-white","dark:text-white","focused")})),Array.from(this.grid.children).forEach((function(t){var r=Number(t.textContent),a=t.classList;r>i&&r<n&&a.add("range"),r===i&&a.add("range-start"),r===n&&a.add("range-end"),e.selected.includes(r)&&(a.add("selected","bg-brand","text-white","hover:text-heading"),a.remove("text-body","hover:bg-neutral-tertiary-medium","hover:text-heading")),r===e.focused&&a.add("focused")}))}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}])}();function we(e,t){var i={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:i}))}function ke(e,t){var i,n=e.config,r=n.minDate,a=n.maxDate,o=e.picker,s=o.currentView,d=o.viewDate;switch(s.id){case 0:i=C(d,t);break;case 1:i=E(d,t);break;default:i=E(d,t*s.navStep)}i=w(i,r,a),e.picker.changeFocus(i).render()}function De(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function xe(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function Se(e,t){var i=e.picker,n=new Date(i.viewDate),r=i.currentView.id,a=1===r?C(n,t-n.getMonth()):E(n,t-n.getFullYear());i.changeFocus(a).changeView(r-1).render()}function Oe(e){var t=e.picker,i=S();if(1===e.config.todayBtnMode){if(e.config.autohide)return void e.setDate(i);e.setDate(i,{render:!1}),t.update()}t.viewDate!==i&&t.changeFocus(i),t.changeView(0).render()}function Me(e){e.setDate({clear:!0})}function Ce(e){De(e)}function Ee(e){ke(e,-1)}function Fe(e){ke(e,1)}function Ve(e,t){var i=$(t,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var n=e.picker.currentView,r=n.id;n.isMinView?e.setDate(Number(i.dataset.date)):Se(e,Number(1===r?i.dataset.month:i.dataset.year))}}function Ae(e){e.inline||e.config.disableTouchKeyboard||e.inputField.focus()}function Le(e,t){if(void 0!==t.title&&(t.title?(e.controls.title.textContent=t.title,ie(e.controls.title)):(e.controls.title.textContent="",te(e.controls.title))),t.prevArrow){var i=e.controls.prevBtn;ne(i),t.prevArrow.forEach((function(e){i.appendChild(e.cloneNode(!0))}))}if(t.nextArrow){var n=e.controls.nextBtn;ne(n),t.nextArrow.forEach((function(e){n.appendChild(e.cloneNode(!0))}))}if(t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),void 0!==t.todayBtn&&(t.todayBtn?ie(e.controls.todayBtn):te(e.controls.todayBtn)),p(t,"minDate")||p(t,"maxDate")){var r=e.datepicker.config,a=r.minDate,o=r.maxDate;e.controls.todayBtn.disabled=!b(S(),a,o)}void 0!==t.clearBtn&&(t.clearBtn?ie(e.controls.clearBtn):te(e.controls.clearBtn))}function Ne(e){var t=e.dates,i=e.config;return w(t.length>0?m(t):i.defaultViewDate,i.minDate,i.maxDate)}function Be(e,t){var i=new Date(e.viewDate),n=new Date(t),r=e.currentView,a=r.id,o=r.year,s=r.first,d=r.last,c=n.getFullYear();switch(e.viewDate=t,c!==i.getFullYear()&&we(e.datepicker,"changeYear"),n.getMonth()!==i.getMonth()&&we(e.datepicker,"changeMonth"),a){case 0:return t<s||t>d;case 1:return c!==o;default:return c<s||c>d}}function Ye(e){return window.getComputedStyle(e).direction}var je=function(){return r((function e(t){i(this,e),this.datepicker=t;var n=he.replace(/%buttonClass%/g,t.config.buttonClass),r=this.element=ee(n).firstChild,a=l(r.firstChild.children,3),o=a[0],s=a[1],d=a[2],c=o.firstElementChild,u=l(o.lastElementChild.children,3),h=u[0],f=u[1],v=u[2],p=l(d.firstChild.children,2),m={title:c,prevBtn:h,viewSwitch:f,nextBtn:v,todayBtn:p[0],clearBtn:p[1]};this.main=s,this.controls=m;var g=t.inline?"inline":"dropdown";r.classList.add("datepicker-".concat(g)),"dropdown"===g&&r.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),Le(this,t.config),this.viewDate=Ne(t),J(t,[[r,"click",Ae.bind(null,t),{capture:!0}],[s,"click",Ve.bind(null,t)],[m.viewSwitch,"click",Ce.bind(null,t)],[m.prevBtn,"click",Ee.bind(null,t)],[m.nextBtn,"click",Fe.bind(null,t)],[m.todayBtn,"click",Oe.bind(null,t)],[m.clearBtn,"click",Me.bind(null,t)]]),this.views=[new me(this),new ye(this),new be(this,{id:2,name:"years",cellClass:"year",step:1}),new be(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.config.container.appendChild(this.element)}),[{key:"setOptions",value:function(e){Le(this,e),this.views.forEach((function(t){t.init(e,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var e=this.datepicker;if(!e.inline){var t=Ye(e.inputField);t!==Ye(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir"),this.place(),e.config.disableTouchKeyboard&&e.inputField.blur()}we(e,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,we(this.datepicker,"hide"))}},{key:"place",value:function(){var e,t,i,n=this.element,r=n.classList,a=n.style,o=this.datepicker,s=o.config,d=o.inputField,c=s.container,l=this.element.getBoundingClientRect(),u=l.width,h=l.height,f=c.getBoundingClientRect(),v=f.left,p=f.top,m=f.width,g=d.getBoundingClientRect(),y=g.left,b=g.top,w=g.width,k=g.height,D=s.orientation,x=D.x,S=D.y;c===document.body?(e=window.scrollY,t=y+window.scrollX,i=b+e):(t=y-v,i=b-p+(e=c.scrollTop)),"auto"===x&&(t<0?(x="left",t=10):x=t+u>m||"rtl"===Ye(d)?"right":"left"),"right"===x&&(t-=u-w),"auto"===S&&(S=i-h<e?"bottom":"top"),"top"===S?i-=h:i+=k,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(S),"datepicker-orient-".concat(x)),a.top=i?"".concat(i,"px"):i,a.left=t?"".concat(t,"px"):t}},{key:"setViewSwitchLabel",value:function(e){this.controls.viewSwitch.textContent=e}},{key:"setPrevBtnDisabled",value:function(e){this.controls.prevBtn.disabled=e}},{key:"setNextBtnDisabled",value:function(e){this.controls.nextBtn.disabled=e}},{key:"changeView",value:function(e){var t=this.currentView,i=this.views[e];return i.id!==t.id&&(this.currentView=i,this._renderMethod="render",we(this.datepicker,"changeView"),this.main.replaceChild(i.element,t.element)),this}},{key:"changeFocus",value:function(e){return this._renderMethod=Be(this,e)?"render":"refreshFocus",this.views.forEach((function(e){e.updateFocus()})),this}},{key:"update",value:function(){var e=Ne(this.datepicker);return this._renderMethod=Be(this,e)?"render":"refresh",this.views.forEach((function(e){e.updateFocus(),e.updateSelection()})),this}},{key:"render",value:function(){var e=(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._renderMethod||"render";delete this._renderMethod,this.currentView[e]()}}])}();function We(e,t,i,n,r,a){if(b(e,r,a))return n(e)?We(t(e,i),t,i,n,r,a):e}function _e(e,t,i,n){var r,a,o=e.picker,s=o.currentView,d=s.step||1,c=o.viewDate;switch(s.id){case 0:c=n?M(c,7*i):t.ctrlKey||t.metaKey?E(c,i):M(c,i),r=M,a=function(e){return s.disabled.includes(e)};break;case 1:c=C(c,n?4*i:i),r=C,a=function(e){var t=new Date(e),i=s.year,n=s.disabled;return t.getFullYear()===i&&n.includes(t.getMonth())};break;default:c=E(c,i*(n?4:1)*d),r=E,a=function(e){return s.disabled.includes(A(e,d))}}void 0!==(c=We(c,r,i<0?-d:d,a,s.minDate,s.maxDate))&&o.changeFocus(c).render()}function Te(e,t){if("Tab"!==t.key){var i=e.picker,n=i.currentView,r=n.id,a=n.isMinView;if(i.active)if(e.editMode)switch(t.key){case"Escape":i.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":i.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)ke(e,-1);else{if(t.shiftKey)return void e.enterEditMode();_e(e,t,-1,!1)}break;case"ArrowRight":if(t.ctrlKey||t.metaKey)ke(e,1);else{if(t.shiftKey)return void e.enterEditMode();_e(e,t,1,!1)}break;case"ArrowUp":if(t.ctrlKey||t.metaKey)De(e);else{if(t.shiftKey)return void e.enterEditMode();_e(e,t,-1,!0)}break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey)return void e.enterEditMode();_e(e,t,1,!0);break;case"Enter":a?e.setDate(i.viewDate):i.changeView(r-1).render();break;case"Backspace":case"Delete":return void e.enterEditMode();default:return void(1!==t.key.length||t.ctrlKey||t.metaKey||e.enterEditMode())}else switch(t.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":e.update();break;default:return}t.preventDefault(),t.stopPropagation()}else xe(e)}function Pe(e){e.config.showOnFocus&&!e._showing&&e.show()}function Ke(e,t){var i=t.target;(e.picker.active||e.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout((function(){delete i._active,delete i._clicking}),2e3))}function He(e,t){var i=t.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&e.enterEditMode(),delete i._active,e.config.showOnClick&&e.show())}function Re(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function Ie(e,t){var i=e.element;if(i===document.activeElement){var n=e.picker.element;$(t,(function(e){return e===i||e===n}))||xe(e)}}function qe(e,t){return e.map((function(e){return K(e,t.format,t.locale)})).join(t.dateDelimiter)}function Je(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.config,r=e.dates,a=e.rangepicker;if(0===t.length)return i?[]:void 0;var o=a&&e===a.datepickers[1],s=t.reduce((function(e,t){var i=P(t,n.format,n.locale);if(void 0===i)return e;if(n.pickLevel>0){var r=new Date(i);i=1===n.pickLevel?o?r.setMonth(r.getMonth()+1,0):r.setDate(1):o?r.setFullYear(r.getFullYear()+1,0,0):r.setMonth(0,1)}return!b(i,n.minDate,n.maxDate)||e.includes(i)||n.datesDisabled.includes(i)||n.daysOfWeekDisabled.includes(new Date(i).getDay())||e.push(i),e}),[]);return 0!==s.length?(n.multidate&&!i&&(s=s.reduce((function(e,t){return r.includes(t)||e.push(t),e}),r.filter((function(e){return!s.includes(e)})))),n.maxNumberOfDates&&s.length>n.maxNumberOfDates?s.slice(-1*n.maxNumberOfDates):s):void 0}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.config,r=e.picker,a=e.inputField;if(2&t){var o=r.active?n.pickLevel:n.startView;r.update().changeView(o).render(i)}1&t&&a&&(a.value=qe(e.dates,n))}function ze(e,t,i){var n=i.clear,r=i.render,a=i.autohide;void 0===r&&(r=!0),r?void 0===a&&(a=e.config.autohide):a=!1;var o=Je(e,t,n);o&&(o.toString()!==e.dates.toString()?(e.dates=o,Ue(e,r?3:1),we(e,"changeDate")):Ue(e,1),a&&e.hide())}var Xe=function(){return r((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;i(this,e),t.datepicker=this,this.element=t;var a=this.config=Object.assign({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:document.body,defaultViewDate:S(),maxDate:void 0,minDate:void 0},ue(Q,this));this._options=n,Object.assign(a,ue(n,this));var o,s,d=this.inline="INPUT"!==t.tagName;if(d)a.container=t,s=y(t.dataset.date,a.dateDelimiter),delete t.dataset.date;else{var c=n.container?document.querySelector(n.container):null;c&&(a.container=c),(o=this.inputField=t).classList.add("datepicker-input"),s=y(o.value,a.dateDelimiter)}if(r){var l=r.inputs.indexOf(o),u=r.datepickers;if(l<0||l>1||!Array.isArray(u))throw Error("Invalid rangepicker object.");u[l]=this,Object.defineProperty(this,"rangepicker",{get:function(){return r}})}this.dates=[];var h=Je(this,s);h&&h.length>0&&(this.dates=h),o&&(o.value=qe(this.dates,a));var f=this.picker=new je(this);if(d)this.show();else{var v=Ie.bind(null,this);J(this,[[o,"keydown",Te.bind(null,this)],[o,"focus",Pe.bind(null,this)],[o,"mousedown",Ke.bind(null,this)],[o,"click",He.bind(null,this)],[o,"paste",Re.bind(null,this)],[document,"mousedown",v],[document,"touchstart",v],[window,"resize",f.place.bind(f)]])}}),[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(e){var t=this.picker,i=ue(e,this);Object.assign(this._options,e),Object.assign(this.config,i),t.setOptions(i),Ue(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),U(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=t?function(i){return K(i,t,e.config.locale)}:function(e){return new Date(e)};return this.config.multidate?this.dates.map(i):this.dates.length>0?i(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=[].concat(t),r={},a=m(t);"object"!==f(a)||Array.isArray(a)||a instanceof Date||!a||Object.assign(r,n.pop()),ze(this,Array.isArray(n[0])?n[0]:n,r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var t={clear:!0,autohide:!(!e||!e.autohide)};ze(this,y(this.inputField.value,this.config.dateDelimiter),t)}}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"string"!=typeof e&&(t=e,e=void 0),Ue(this,"picker"===e?2:"input"===e?1:3,!t)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-brand"))}},{key:"exitEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit","border-brand"),t.update&&this.update(t)}}}],[{key:"formatDate",value:function(e,t,i){return K(e,t,i&&G[i]||G.en)}},{key:"parseDate",value:function(e,t,i){return P(e,t,i&&G[i]||G.en)}},{key:"locales",get:function(){return G}}])}();function $e(e){var t=Object.assign({},e);return delete t.inputs,delete t.allowOneSidedRange,delete t.maxNumberOfDates,t}function Ge(e,t,i,n){J(e,[[i,"changeDate",t]]),new Xe(i,n,e)}function Qe(e,t){if(!e._updating){e._updating=!0;var i=t.target;if(void 0!==i.datepicker){var n=e.datepickers,r={render:!1},a=e.inputs.indexOf(i),o=0===a?1:0,s=n[a].dates[0],d=n[o].dates[0];void 0!==s&&void 0!==d?0===a&&s>d?(n[0].setDate(d,r),n[1].setDate(s,r)):1===a&&s<d&&(n[0].setDate(s,r),n[1].setDate(d,r)):e.allowOneSidedRange||void 0===s&&void 0===d||(r.clear=!0,n[o].setDate(n[a].dates,r)),n[0].picker.update().render(),n[1].picker.update().render(),delete e._updating}}}var Ze=function(){return r((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var r=Array.isArray(n.inputs)?n.inputs:Array.from(t.querySelectorAll("input"));if(!(r.length<2)){t.rangepicker=this,this.element=t,this.inputs=r.slice(0,2),this.allowOneSidedRange=!!n.allowOneSidedRange;var a=Qe.bind(null,this),o=$e(n),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),Ge(this,a,this.inputs[0],o),Ge(this,a,this.inputs[1],o),Object.freeze(s),s[0].dates.length>0?Qe(this,{target:this.inputs[0]}):s[1].dates.length>0&&Qe(this,{target:this.inputs[1]})}}),[{key:"dates",get:function(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(e){this.allowOneSidedRange=!!e.allowOneSidedRange;var t=$e(e);this.datepickers[0].setOptions(t),this.datepickers[1].setOptions(t)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),U(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=t?function(i){return K(i,t,e.datepickers[0].config.locale)}:function(e){return new Date(e)};return this.dates.map((function(e){return void 0===e?e:i(e)}))}},{key:"setDates",value:function(e,t){var i=l(this.datepickers,2),n=i[0],r=i[1],a=this.dates;this._updating=!0,n.setDate(e),r.setDate(t),delete this._updating,r.dates[0]!==a[1]?Qe(this,{target:this.inputs[1]}):n.dates[0]!==a[0]&&Qe(this,{target:this.inputs[0]})}}])}();export{Ze as DateRangePicker,Xe as Datepicker};export default null;
